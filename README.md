# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?  
Ответ:  
![Снимок экрана от 2022-02-11 14-28-03](https://user-images.githubusercontent.com/26147777/153583936-bf4c107a-a75c-45c8-bf34-f08f34c36305.png)


2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
Ответ:  
LLDP(CDP, EDP, etc). Управляется через lldpd. Посмотреть соседей через lldpctl

3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
Ответ:  
VLan. Создадим интерфейс с vlan100 и привяжем к основному интерфейсу виртуальной системы. 
![Снимок экрана от 2022-02-11 14-49-23](https://user-images.githubusercontent.com/26147777/153586526-b5608153-b449-4898-8cd2-441fc0cb06ed.png)  
Включаем интерфейс.
![Снимок экрана от 2022-02-11 14-53-24](https://user-images.githubusercontent.com/26147777/153587011-1242920b-bca1-45b3-a099-d8623c3e0e16.png)  
Таким образом можем настроить необходимое количество vlan интерфейсов и привязать их к физическому интерфейсу.

4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
Ответ:  
Можно отредактировать конфиг  
$ sudo nano /etc/network/interfaces
# The primary network interface
auto bond0  
iface bond0 inet static  
    address 192.168.1.150
    netmask 255.255.255.0    
    gateway 192.168.1.1
    dns-nameservers 192.168.1.1 8.8.8.8
    dns-search domain.local
        slaves eth0 eth1
        bond_mode 0
        bond-miimon 100
        bond_downdelay 200
        bound_updelay 200
        
 Типы агрегирования  
 mode=0 (balance-rr)
При этом методе объединения трафик распределяется по принципу «карусели»: пакеты по очереди направляются на сетевые карты объединённого интерфейса. Например, если у нас есть физические интерфейсы eth0, eth1, and eth2, объединенные в bond0, первый пакет будет отправляться через eth0, второй — через eth1, третий — через eth2, а четвертый снова через eth0 и т.д.

mode=1 (active-backup)
Когда используется этот метод, активен только один физический интерфейс, а остальные работают как резервные на случай отказа основного.

mode=2 (balance-xor)
В данном случае объединенный интерфейс определяет, через какую физическую сетевую карту отправить пакеты, в зависимости от MAC-адресов источника и получателя.

mode=3 (broadcast) Широковещательный режим, все пакеты отправляются через каждый интерфейс. Имеет ограниченное применение, но обеспечивает значительную отказоустойчивость.

mode=4 (802.3ad)
Особый режим объединения. Для него требуется специально настраивать коммутатор, к которому подключен объединенный интерфейс. Реализует стандарты объединения каналов IEEE и обеспечивает как увеличение пропускной способности, так и отказоустойчивость.

mode=5 (balance-tlb)
Распределение нагрузки при передаче. Входящий трафик обрабатывается в обычном режиме, а при передаче интерфейс определяется на основе данных о загруженности.

mode=6 (balance-alb)
Адаптивное распределение нагрузки. Аналогично предыдущему режиму, но с возможностью балансировать также входящую нагрузку.  

5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
Ответ:  
в подсети с маской /29 = 8 адресов из которых только 6 можно использовать для хостов. 
В из подсети с маской /24 можно получить 32 подсети с маской /29, т.е 256/8
Вывод утилиты ipcalc c разделением подсети 1.1.1.1/24 на две подсети /29

6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.  
![Снимок экрана от 2022-02-11 15-31-24](https://user-images.githubusercontent.com/26147777/153592043-1e034196-53a9-4011-bdf3-0c14f3e3f9c5.png)


7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?  
![Снимок экрана от 2022-02-11 15-37-17](https://user-images.githubusercontent.com/26147777/153593397-31caf266-1f72-44c4-ae30-d5ef818af919.png)  
Можно удалить одну запись командой "sudo arp -d 192.168.0.102". 
Удалить все записи можно командой "ip neigh flush all [dev <device>]"
  Также можно выключить и включить арп, что тоже очистит кэш.   
  ip link set arp off dev eth0; ip link set arp on dev eth0

